const r="notes",u="settings",c="pageSummaries",o="pageChatHistory";async function y(a){const n=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(h=>h.toString(16).padStart(2,"0")).join("")}function e(a){return new Promise(t=>{chrome.storage.local.get([a],n=>t(n[a]))})}function s(a){return new Promise(t=>chrome.storage.local.set(a,()=>t()))}async function f(a){const t=await e(r)||[];t.unshift(a),await s({[r]:t})}async function g(){return(await e(r)||[]).sort((t,n)=>(n.createdAt||0)-(t.createdAt||0))}async function m(){await s({[r]:[]})}async function S(a,t){const n=await e(u)||{};n[a]=t,await s({[u]:n})}async function d(a){return(await e(u)||{})[a]}async function l(a){return(await e(c)||{})[a]}async function A(a,t,n){const i=await e(c)||{},w=await y(n);i[a]={summary:t,text:n,contentHash:w,timestamp:Date.now(),isSaved:!1},await s({[c]:i})}async function P(a,t){const n=await e(c)||{};n[a]&&(n[a].isSaved=t,await s({[c]:n}))}async function E(a){const t=await e(c)||{};delete t[a],await s({[c]:t})}async function p(a){return(await e(o)||{})[a]}async function H(a,t){const n=await e(o)||{};n[a]={...t,timestamp:Date.now()},await s({[o]:n})}async function T(a){const t=await e(o)||{};delete t[a],await s({[o]:t})}export{l as a,p as b,T as c,A as d,E as e,f,d as g,y as h,H as i,m as j,g as l,S as s,P as u};
//# sourceMappingURL=storage-DBII9k0A.js.map
