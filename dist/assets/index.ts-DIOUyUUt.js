chrome.runtime.onInstalled.addListener(()=>{try{chrome.contextMenus.create({id:"summarize_page",title:"AI: Summarize this page",contexts:["page"]}),chrome.contextMenus.create({id:"summarize_selection",title:"AI: Summarize selection",contexts:["selection"]}),chrome.contextMenus.create({id:"explain_selection",title:"AI: Explain selection",contexts:["selection"]}),chrome.contextMenus.create({id:"translate_selection",title:"AI: Translate selection",contexts:["selection"]})}catch{}});function a(e,t){try{chrome.tabs.sendMessage(e,t,()=>{chrome.runtime.lastError})}catch{}}chrome.contextMenus.onClicked.addListener((e,t)=>{const n=t?.id;if(n)switch(e.menuItemId){case"summarize_page":a(n,{type:"SUMMARIZE_PAGE"});break;case"summarize_selection":a(n,{type:"SUMMARIZE_SELECTION"});break;case"explain_selection":a(n,{type:"EXPLAIN_SELECTION"});break;case"translate_selection":a(n,{type:"TRANSLATE_SELECTION",targetLang:"en"});break}});chrome.commands.onCommand.addListener(async e=>{if(e==="toggle-panel")try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t?.id&&a(t.id,{type:"TOGGLE_PANEL"})}catch{}});
//# sourceMappingURL=index.ts-DIOUyUUt.js.map
